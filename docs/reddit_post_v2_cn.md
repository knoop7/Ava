# Ava - 把任何 Android 设备变成智能家居中控屏

分享一个我一直在做的项目：**Ava**，一款 Android 语音助手应用，可以把闲置平板和旧手机变成功能强大的智能家居中控屏。

## 项目背景

这个项目基于 [brownard/Ava](https://github.com/brownard/Ava) 进行了大量修改和扩展。原版是一个很棒的 ESPHome 语音卫星实现，但功能比较基础。

我研究过现有的方案：[Fully Kiosk](https://www.fully-kiosk.com/) 功能强大但需要付费。[WallPanel](https://wallpanel.xyz/) 已经停止维护了。整个 Android 智能家居面板领域多年来一直停滞不前。

所以我决定结合这些项目的优点，以 Ava 代码库为基础，打造一个真正好用的方案。

## 核心理念

**无需额外集成** - 不用装 MQTT，不用配 HACS。设备会被 Home Assistant 原生发现，就像 ESPHome 设备一样。

**低端设备友好** - 支持 Android 7-16，包括 32 位设备。便宜的平板、旧手机都能用。为什么不支持 Android 4-6？有些功能兼容性不好，与其半残不如不支持。

---

## 🔥 蓝牙中继器 - 独家功能

**这是其他 Android 面板应用都没有的功能。**

你的 Android 设备变成完整的蓝牙网关，扩展 Home Assistant 的蓝牙覆盖范围。不需要 ESP32 - 直接用你的闲置 Android 设备！

**功能特点：**
- **BLE 代理** - 将所有蓝牙低功耗数据转发到 Home Assistant
- **全屋覆盖** - 部署多台 Ava 设备，每台都能扩展蓝牙范围
- **设备在场感知** - 自动检测手机、智能手表、手环是否在家，触发回家/离家自动化
- **兼容所有 BLE 设备** - 温度传感器、植物监测器、智能门锁，统统支持

**为什么这很重要：**
- ESP32 蓝牙代理需要刷固件和配置
- Ava 装上就能用 - 你的 Android 设备本身就是强大的蓝牙收发器
- 非常适合公寓或多层住宅，一个蓝牙源覆盖不够的情况
- 把卧室那台吃灰的旧平板变成蓝牙中继点

**设备在场感知的妙用：**
- 手机进入蓝牙范围 → 自动开灯、开空调、播放欢迎语
- 手机离开一段时间 → 自动关灯、启动安防模式
- 检测特定家人的设备 → 个性化场景触发
- 可调节 RSSI 阈值和离场延迟，精确控制灵敏度

光这个功能就值得一试，如果你在 Home Assistant 里被蓝牙覆盖范围困扰的话。

---

## 悬浮窗 - 视觉差异化

这是 Ava 在视觉上的独特之处。**悬浮窗可以叠加在任何应用上方** - 全屏显示 HA 仪表盘的同时，还能看到时钟、天气和通知覆盖在上面。

其他应用只能二选一：仪表盘或者时钟。用 Ava，你可以同时拥有。

- **始终可见** - 叠加在任何应用上方，包括全屏浏览器
- **HA 控制** - 从 Home Assistant 远程开关每个窗口
- **不遮挡** - 设计上是补充内容，不会挡住主界面

可用的悬浮窗：
-  梦幻时钟 - 优雅的常亮时钟
-  黑胶封面 - 播放音乐时旋转的唱片封面
-  对话字幕 - 显示你说的话和 AI 回复
-  通知场景 - 门铃、报警等全屏提醒

---

## 其他功能

- **70+ 通知场景** - 门铃、烟雾报警、早安问候、生日祝福、定时器。支持自定义场景 URL
- **摄像头** - 远程拍照、实时视频，前后摄像头，可调分辨率
- **传感器** - 光照、磁场、接近、WiFi 信号、电池、存储 - 全部上报 HA
- **内嵌浏览器** - HA 仪表盘，JS/CSS 注入，远程命令
- **音频处理** - AEC、AGC、噪声抑制，GPIO 麦克风阵列支持
- **屏幕控制** - 亮度同步、强制方向、接近感应亮屏/息屏

## 权限说明

**基础权限**：麦克风、悬浮窗、前台服务

**可选权限**：摄像头、蓝牙、位置（BLE 扫描需要）、系统设置

**Root**（推荐）：更好的后台保护、开机脚本、屏幕控制、重启。没有 Root 也能用，但有会更稳定。

## 稳定性

针对 7×24 运行优化：电池优化豁免、WiFi 唤醒锁、自动重连、开机自启、被杀后自动恢复。

## 使用场景

- 墙壁平板作为全屋控制中心 + 蓝牙中继
- 床头语音闹钟 + 卧室蓝牙覆盖
- 厨房定时器平板 + 厨房传感器范围扩展
- 门口可视门铃 + 入口在场检测


## 收费

**完全免费**，不收费。

欢迎打赏但完全自愿，所有功能都可用。

## 隐私

**不收集任何数据。**

- 语音识别仅本地处理
- 无追踪、无需账号
- 摄像头/麦克风数据只发送到你自己的 Home Assistant
- 我以人格担保不做任何恶意行为

## 下载与反馈

最新 APK：**https://github.com/knoop7/Ava**

内置自动更新功能。

**有问题或建议？欢迎到 GitHub 提 Issue！** 我会持续修复问题和更新功能。

